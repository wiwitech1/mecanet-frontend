<div class="modal-overlay">
  <div class="modal-container">
    <div class="modal-header">
      <h2>{{ isEdit ? 'Editar Usuario' : 'Nuevo Usuario' }}</h2>
    </div>

    <div class="modal-content">
      <form (ngSubmit)="handleSubmit()" #userForm="ngForm">
        <div class="form-group">
          <label for="code">Código *</label>
          <input
            type="text"
            id="code"
            name="code"
            [(ngModel)]="formData.code"
            required
            [disabled]="isEdit"
          >
        </div>

        <div class="form-group">
          <label for="name">Nombre *</label>
          <input
            type="text"
            id="name"
            name="name"
            [(ngModel)]="formData.name"
            required
          >
        </div>

        <div class="form-group">
          <label for="email">Email *</label>
          <input
            type="email"
            id="email"
            name="email"
            [(ngModel)]="formData.email"
            required
          >
        </div>

        <div class="form-group">
          <label for="role">Rol *</label>
          <select
            id="role"
            name="role"
            [(ngModel)]="formData.role"
            required
          >
            <option *ngFor="let role of roles" [value]="role.value">
              {{ role.label }}
            </option>
          </select>
        </div>

        <div class="form-group">
          <label for="phone">Teléfono</label>
          <input
            type="tel"
            id="phone"
            name="phone"
            [(ngModel)]="formData.phone"
          >
        </div>

        <div class="form-group">
          <label for="address">Dirección</label>
          <textarea
            id="address"
            name="address"
            [(ngModel)]="formData.address"
            rows="3"
          ></textarea>
        </div>

        <div class="form-actions">
          <app-button
            [variant]="'warning'"
            [size]="'sm'"
            type="button"
            (click)="handleCancel()"
          >
            Cancelar
          </app-button>

          <app-button
            *ngIf="isEdit"
            [variant]="'danger'"
            [size]="'sm'"
            type="button"
            (click)="handleDelete()"
          >
            Eliminar
          </app-button>

          <app-button
            [variant]="'primary'"
            [size]="'sm'"
            type="submit"
          >
            {{ isEdit ? 'Actualizar' : 'Crear' }}
          </app-button>
        </div>
      </form>
    </div>
  </div>
</div>
